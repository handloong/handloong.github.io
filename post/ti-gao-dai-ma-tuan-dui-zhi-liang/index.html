<html lang="en">
  <head>
    <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />
<title>提高代码团队质量 -
    Doer Notes</title>
<link rel="shortcut icon" href="https://doer.ltd/favicon.ico" />
<link rel="stylesheet" href="https://s1.hdslb.com/bfs/static/jinkela/long/font/regular.css">
<link
  href="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/remixicon/2.2.0/remixicon.min.css"
  rel="stylesheet" />
<link
  rel="stylesheet"
  href="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/animate.css/3.7.2/animate.min.css" />
<link
  rel="stylesheet"
  href="https://doer.ltd/media/css/tailwind.css" />
<link rel="stylesheet" href="https://doer.ltd/styles/main.css" />
<link
  rel="alternate"
  type="application/atom+xml"
  title="提高代码团队质量 -
    Doer Notes - Atom Feed"
  href="https://doer.ltd/atom.xml" />





    <meta name="description" content="Git使用规范
（1）所有代码必须上传至Git仓库,如有破坏性更新请先创建版本分支

直接在 master 分支上修改并 push 破坏性代码 → 可能导致线上服务崩溃
代码只写在本地，未提交到 Git → 团队无法协作
删除旧 API 但..." />
    <meta
      property="og:title"
      content="提高代码团队质量 - Doer Notes" />
    <meta property="og:description" content="Git使用规范
（1）所有代码必须上传至Git仓库,如有破坏性更新请先创建版本分支

直接在 master 分支上修改并 push 破坏性代码 → 可能导致线上服务崩溃
代码只写在本地，未提交到 Git → 团队无法协作
删除旧 API 但..." />
    <meta property="og:type" content="articles" />
    <meta property="og:url" content="https://doer.ltd/post/ti-gao-dai-ma-tuan-dui-zhi-liang/" />
    <meta
      property="og:image"
      content="https://doer.ltd/images/avatar.png" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:width" content="1200" />
    <meta
      name="twitter:title"
      content="提高代码团队质量 - Doer Notes" />
    <meta name="twitter:description" content="Git使用规范
（1）所有代码必须上传至Git仓库,如有破坏性更新请先创建版本分支

直接在 master 分支上修改并 push 破坏性代码 → 可能导致线上服务崩溃
代码只写在本地，未提交到 Git → 团队无法协作
删除旧 API 但..." />
    <meta name="twitter:card" content="summary_large_image" />
    <link rel="canonical" href="https://doer.ltd/post/ti-gao-dai-ma-tuan-dui-zhi-liang/" />

    <link
      rel="stylesheet"
      href="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/photoswipe/4.1.3/photoswipe.min.css" />
    <link
      rel="stylesheet"
      href="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/photoswipe/4.1.3/default-skin/default-skin.min.css" />

    
    <link
      rel="stylesheet"
      href="https://doer.ltd/media/css/prism-github.css" />
     
    <link
      rel="stylesheet"
      href="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/KaTeX/0.16.9/katex.min.css" />
    
  </head>

  <body>
    <div class="antialiased flex flex-col min-h-screen" id="app">
      <a
        href="https://doer.ltd"
        class="fixed top-0 left-0 mt-4 bg-black text-white dark:text-gray-700 dark:bg-yellow-50 dark:hover:bg-black dark:hover:text-white inline-flex p-2 pl-8 hover:text-gray-700 hover:bg-yellow-50 font-bold z-10 transition-fast animated fadeInLeft">
        Doer Notes
      </a>
      <div class="max-w-4xl w-full mx-auto">
        <div
          class="shadow-box bg-white dark:bg-gray-600 rounded-lg pt-32 md:pt-64 px-4 md:px-8 pb-8 animated fadeIn mb-8">
          <h1
            class="text-5xl font-semibold leading-normal pb-8 mb-8 border-b-8 border-gray-700">
            提高代码团队质量
          </h1>
          
          <div class="mb-8 flex flex-wrap">
            <div class="text-gray-400 text-sm mr-4">
              2025-11-05 · 5 min read
            </div>
            
          </div>
          <div class="markdown mb-8" v-pre><h2 id="git使用规范">Git使用规范</h2>
<p>（1）所有代码必须上传至Git仓库,如有<code>破坏性</code>更新请先创建版本分支</p>
<ul>
<li>直接在 <code>master</code> 分支上修改并 push 破坏性代码 → 可能导致线上服务崩溃</li>
<li>代码只写在本地，未提交到 Git → 团队无法协作</li>
<li>删除旧 API 但未通知其他团队 → 调用方系统报错</li>
</ul>
<p>（2）分享给同事的代码需保证完整且可正常运行</p>
<ul>
<li>运行代码前先 <code>git pull</code>一下保证代码最新</li>
<li>如果需要用到第三方dll且不提供nuget下载的情况下，需要把dll放在<code>sln</code>文件同级<code>Lib</code>文件夹重新引用(vs自动转换成相对路径)</li>
<li>禁止使用绝对路径引用，例如 D:\Libs\xxx.dll (你电脑上有这个路径，人家有吗？)</li>
</ul>
<p>（3）重要节点必须创建分支或Tag标记<br>
<img src="https://doer.ltd/post-images/1762308421754.png" alt="" loading="lazy"></p>
<figure data-type="image" tabindex="1"><img src="https://doer.ltd/post-images/1762308449874.png" alt="" loading="lazy"></figure>
<ul>
<li>发布版本定义好版本号后打<code>Tag</code>并推送</li>
<li>演示: <a href="http://10.32.36.122/FDC/eeproxy">http://10.32.36.122/FDC/eeproxy</a></li>
</ul>
<h2 id="版本管理要求">版本管理要求</h2>
<ol>
<li>
<p>核心类必须包含版本概念，便于调试</p>
<ul>
<li><code>1.0.0.0</code> —— 传统四段式版本 : ios 16.x 17.x</li>
<li><code>2025.1.0.1</code> —— 年份+序列号风格  vs2013,vs2022,vs2026,iso 26.1</li>
</ul>
</li>
<li>
<p>每发布一个版本必须创建Tag或分支<br>
<img src="https://doer.ltd/post-images/1762306757920.png" alt="" loading="lazy"></p>
</li>
<li>
<p>代码提交需规范记录新增、修改、修复内容</p>
<ul>
<li>fix: 类型 为 fix 的提交表示在代码库中修复了一个 bug</li>
<li>feat: 类型 为 feat 的提交表示在代码库中新增了一个功能</li>
<li>docs: 用于修改文档，例如修改 README 文件、API 文档等</li>
<li>refactor: 用于重构代码，例如修改代码结构、变量名、函数名等但不修改功能逻辑</li>
<li>perf: 用于优化性能，例如提升代码的性能、减少内存占用等</li>
<li>build: 用于发布版本</li>
</ul>
</li>
<li>
<p>所有改动均需记录，特殊需求需备注需求人</p>
</li>
</ol>
<h2 id="技术栈与编码规范">技术栈与编码规范</h2>
<h3 id="第三方类库使用">第三方类库使用</h3>
<ol>
<li>直接使用官方包，尽量少修改原代码，如需要修改请clone到内网并发布到内网或者myget包<br>
<img src="https://doer.ltd/post-images/1762306664906.png" alt="" loading="lazy"><br>
<img src="https://doer.ltd/post-images/1762306710136.png" alt="" loading="lazy"></li>
<li>可适当参与PR提升自身阅读代码能力 (黄老板发现的bug)<br>
<img src="https://doer.ltd/post-images/1762306595423.png" alt="" loading="lazy"></li>
</ol>
<h3 id="数据库操作规范">数据库操作规范</h3>
<ol>
<li>非必要禁止在代码中出现SQL语句（复杂报表除外）<br>
<img src="https://doer.ltd/post-images/1762307036934.png" alt="" loading="lazy"></li>
</ol>
<p>对比之前：<br>
<img src="https://doer.ltd/post-images/1762307151386.png" alt="" loading="lazy"><br>
<img src="https://doer.ltd/post-images/1762307201925.png" alt="" loading="lazy"><br>
<img src="https://doer.ltd/post-images/1762307219513.png" alt="" loading="lazy"><br>
之后：<br>
<img src="https://doer.ltd/post-images/1762306976274.png" alt="" loading="lazy"></p>
<ol start="2">
<li>其他应用(客户端小软件/服务)对接本系统禁止直接操作数据库，统一使用WebAPI
<ul>
<li>有泄露连接串风险(即使代码加密只要在内存里连接串都可以dump出来)</li>
<li>数据库密码变更影响大。</li>
</ul>
</li>
<li>推荐使用FreeSQL/Sqlsugar/EF/Dapper等ORM操作数据库</li>
<li>不推荐使用存储过程和原生SQL语句</li>
</ol>
<table>
<thead>
<tr>
<th>对比维度</th>
<th>存储过程（Stored Procedure）</th>
<th>代码实现（Application Code）</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>性能</strong></td>
<td>✅ 通常更快：逻辑在数据库服务器执行，减少网络往返；预编译，执行计划可缓存。</td>
<td>⚠️ 可能较慢：需多次数据库交互；但现代 ORM 和批处理可优化。</td>
</tr>
<tr>
<td><strong>可维护性</strong></td>
<td>⚠️ 较差：逻辑分散在 DB 层，版本控制困难；调试和测试工具链弱；团队协作成本高。</td>
<td>✅ 更好：代码集中管理，支持 Git、单元测试、CI/CD 等现代开发实践。</td>
</tr>
<tr>
<td><strong>可移植性与耦合</strong></td>
<td>❌ 差：强依赖特定数据库（如 T-SQL、PL/pgSQL），迁移成本高；业务逻辑与数据层紧耦合。</td>
<td>✅ 好：使用标准语言（如 C#、Java），配合 ORM 可轻松切换数据库；逻辑与数据解耦更清晰。</td>
</tr>
</tbody>
</table>
<ol start="5">
<li>大多数情况下查询数据必须建立实体类，使用面向对象方式</li>
<li>非必要不使用DataTable/DataRow，请改用实体或Record类</li>
</ol>
<h3 id="代码结构优化">代码结构优化</h3>
<ol>
<li>命名空间和项目名称需规范</li>
<li>建立完整的文件夹结构，保持项目清晰</li>
<li>代码超过2000行必须抽离为独立方法或文件，专有事件处理专有逻辑，减少代码冲突</li>
<li>一个function 一般长度不超过两个屏幕</li>
<li>适当使用设计模式<br>
<img src="https://doer.ltd/post-images/1762308087853.png" alt="" loading="lazy"><br>
<img src="https://doer.ltd/post-images/1762308833915.png" alt="" loading="lazy"><br>
<img src="https://doer.ltd/post-images/1762308888791.png" alt="" loading="lazy"></li>
</ol>
<h3 id="异常捕获">异常捕获</h3>
<p>1.更推荐使用全局异常拦截。<br>
<img src="https://doer.ltd/post-images/1762740468949.png" alt="" loading="lazy"><br>
2.事务处理不太好<br>
<img src="https://doer.ltd/post-images/1762740610848.png" alt="" loading="lazy"><br>
推荐：<br>
<img src="https://doer.ltd/post-images/1762740816926.png" alt="" loading="lazy"></p>
<h3 id="适当添加扩展方法">适当添加扩展方法</h3>
<figure data-type="image" tabindex="2"><img src="https://doer.ltd/post-images/1762740995852.png" alt="" loading="lazy"></figure>
<h3 id="适当封装-xxconfigservice类">适当封装 <code>xxConfigService</code>类</h3>
<p><img src="https://doer.ltd/post-images/1762742842959.png" alt="" loading="lazy"><br>
<img src="https://doer.ltd/post-images/1762741062079.png" alt="" loading="lazy"><br>
<img src="https://doer.ltd/post-images/1762741100931.png" alt="" loading="lazy"><br>
封装后：<br>
<img src="https://doer.ltd/post-images/1762743027697.png" alt="" loading="lazy"></p>
<h3 id="适当使用自动映射">适当使用自动映射</h3>
<figure data-type="image" tabindex="3"><img src="https://doer.ltd/post-images/1762743191115.png" alt="" loading="lazy"></figure>
<p><img src="https://doer.ltd/post-images/1762742348468.png" alt="" loading="lazy"><br>
<img src="https://doer.ltd/post-images/1762742383642.png" alt="" loading="lazy"><br>
<img src="https://doer.ltd/post-images/1762742525993.png" alt="" loading="lazy"></p>
<h3 id="网站推荐">网站推荐</h3>
<ol>
<li><a href="https://github.com/">全球最大同性交友平台 https://github.com</a></li>
<li><a href="https://www.conventionalcommits.org/zh-hans/v1.0.0/#faq">约定式提交</a></li>
<li><a href="https://refactoringguru.cn/design-patterns">设计模式</a></li>
</ol>
<h3 id="培养解决异常问题能力">培养解决异常问题能力</h3>
<ol>
<li>问题的本质是期待的状况与现实状况的落差</li>
<li>5WHY分析法</li>
</ol>
<h3 id="题外话">题外话</h3>
<p>..</p>
</div>
          <!-- Share to Twitter, Weibo, Telegram -->
          <div class="flex items-center">
            <div class="mr-4 flex items-center">
              <i class="ri-share-forward-line text-gray-500"></i>
            </div>
            <div
              class="px-4 cursor-pointer text-blue-500 hover:bg-blue-100 dark:hover:bg-gray-600 inline-flex"
              @click="shareToTwitter">
              <i class="ri-twitter-line"></i>
            </div>
            <div
              class="px-4 cursor-pointer text-red-500 hover:bg-red-100 dark:hover:bg-gray-600 inline-flex"
              @click="shareToWeibo">
              <i class="ri-weibo-line"></i>
            </div>
            <div
              class="px-4 cursor-pointer text-indigo-500 hover:bg-indigo-100 dark:hover:bg-gray-600 inline-flex"
              @click="shareToTelegram">
              <i class="ri-telegram-line"></i>
            </div>
          </div>
        </div>

        
        <footer class="py-12 text-center px-4 md:px-0" v-pre>
  做则成 <a href="https://beian.miit.gov.cn/" 
         target="_blank" 
         rel="noopener noreferrer" 
         style="color: #666; text-decoration: none;">
        豫ICP备2024077745号-1
      </a>
</footer>

      </div>

      <!-- TOC Container -->
      <div
        class="fixed right-0 bottom-0 mb-16 mr-4 shadow w-8 h-8 rounded-full flex justify-center items-center z-10 cursor-pointer bg-white dark:bg-gray-500 dark:text-gray-200 hover:shadow-lg transition-all animated fadeInRight"
        @click="showToc = true">
        <i class="ri-file-list-line"></i>
      </div>

      <div
        class="fixed right-0 top-0 bottom-0 overflow-y-auto w-64 bg-white dark:bg-gray-800 p-4 border-l border-gray-100 dark:border-gray-600 z-10 transition-fast"
        :class="{ '-mr-64': !showToc }">
        <div class="flex mb-4 justify-end">
          <div
            class="w-8 h-8 inline-flex justify-center items-center rounded-full cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-fast"
            @click="showToc = false">
            <i class="ri-close-line text-lg"></i>
          </div>
        </div>
        <div class="post-toc-container"><ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#git%E4%BD%BF%E7%94%A8%E8%A7%84%E8%8C%83">Git使用规范</a></li>
<li><a href="#%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%E8%A6%81%E6%B1%82">版本管理要求</a></li>
<li><a href="#%E6%8A%80%E6%9C%AF%E6%A0%88%E4%B8%8E%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83">技术栈与编码规范</a>
<ul>
<li><a href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E7%B1%BB%E5%BA%93%E4%BD%BF%E7%94%A8">第三方类库使用</a></li>
<li><a href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C%E8%A7%84%E8%8C%83">数据库操作规范</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81%E7%BB%93%E6%9E%84%E4%BC%98%E5%8C%96">代码结构优化</a></li>
<li><a href="#%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7">异常捕获</a></li>
<li><a href="#%E9%80%82%E5%BD%93%E6%B7%BB%E5%8A%A0%E6%89%A9%E5%B1%95%E6%96%B9%E6%B3%95">适当添加扩展方法</a></li>
<li><a href="#%E9%80%82%E5%BD%93%E5%B0%81%E8%A3%85-xxconfigservice%E7%B1%BB">适当封装 <code>xxConfigService</code>类</a></li>
<li><a href="#%E9%80%82%E5%BD%93%E4%BD%BF%E7%94%A8%E8%87%AA%E5%8A%A8%E6%98%A0%E5%B0%84">适当使用自动映射</a></li>
<li><a href="#%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90">网站推荐</a></li>
<li><a href="#%E5%9F%B9%E5%85%BB%E8%A7%A3%E5%86%B3%E5%BC%82%E5%B8%B8%E9%97%AE%E9%A2%98%E8%83%BD%E5%8A%9B">培养解决异常问题能力</a></li>
<li><a href="#%E9%A2%98%E5%A4%96%E8%AF%9D">题外话</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
      </div>

      <!-- Back to top -->
      <div
        class="fixed right-0 bottom-0 mb-4 mr-4 shadow w-8 h-8 rounded-full flex justify-center items-center z-10 cursor-pointer bg-white hover:shadow-lg transition-all dark:bg-gray-500 dark:text-gray-200"
        @click="backToUp"
        v-show="scrolled">
        <i class="ri-arrow-up-line"></i>
      </div>
    </div>

    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
  <!-- Background of PhotoSwipe.
        It's a separate element as animating opacity is faster than rgba(). -->
  <div class="pswp__bg"></div>
  <!-- Slides wrapper with overflow:hidden. -->
  <div class="pswp__scroll-wrap">
    <!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
    <div class="pswp__ui pswp__ui--hidden">
      <div class="pswp__top-bar">
        <!--  Controls are self-explanatory. Order can be changed. -->
        <div class="pswp__counter"></div>
        <button
          class="pswp__button pswp__button--close"
          title="Close (Esc)"></button>
        <button
          class="pswp__button pswp__button--fs"
          title="Toggle fullscreen"></button>
        <button
          class="pswp__button pswp__button--zoom"
          title="Zoom in/out"></button>
        <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
        <!-- element will get class pswp__preloader--active when preloader is running -->
        <div class="pswp__preloader">
          <div class="pswp__preloader__icn">
            <div class="pswp__preloader__cut">
              <div class="pswp__preloader__donut"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
        <div class="pswp__share-tooltip"></div>
      </div>
      <button
        class="pswp__button pswp__button--arrow--left"
        title="Previous (arrow left)"></button>
      <button
        class="pswp__button pswp__button--arrow--right"
        title="Next (arrow right)"></button>
      <div class="pswp__caption">
        <div class="pswp__caption__center"></div>
      </div>
    </div>
  </div>
</div>


    <script src="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/vue/2.7.16/vue.min.js"></script>
    <script src="https://doer.ltd/media/scripts/main.js"></script>

    <!-- Code Highlight -->
    
    <script src="https://doer.ltd/media/prism.js"></script>
    <script>
      Prism.highlightAll()
    </script>
    

    <script src="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/photoswipe/4.1.3/photoswipe.min.js"></script>
    <script src="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>
    <script>
      //拿到预览框架，也就是上面的html代码
      var pswpElement = document.querySelectorAll('.pswp')[0]
      //定义图片数组变量
      var imgitems
      /**
       * 用于显示预览界面
       * @param index 图片数组下标
       */
      function viewImg(index) {
        //其它选项这里不做过多阐述，详情见官网
        var pswpoptions = {
          index: parseInt(index, 10), // 开始幻灯片索引。0是第一张幻灯片。必须是整数，而不是字符串。
          bgOpacity: 0.7, // 背景透明度，0-1
          maxSpreadZoom: 3, // 缩放级别，不要太大
        }
        //初始化并打开PhotoSwipe，pswpElement对应上面预览框架，PhotoSwipeUI_Default为皮肤，imgitems为图片数组，pswpoptions为选项
        var gallery = new PhotoSwipe(
          pswpElement,
          PhotoSwipeUI_Default,
          imgitems,
          pswpoptions
        )
        gallery.init()
      }
      /**
       * 用于添加图片点击事件
       * @param img 图片元素
       * @param index 所属下标（在imgitems中的位置）
       */
      function addImgClick(img, index) {
        img.onclick = function () {
          viewImg(index)
        }
      }
      /**
       * 轮询所有图片，获取src、width、height等数据，加入imgitems，并给图片元素添加事件
       * 最好在onload中执行该方法，本站因放在最底部，所以直接初始化
       * 异步加载图片可在图片元素创建完成后调用此方法
       */
      function initImg() {
        //重置图片数组
        imgitems = []
        //查找class:markdown 下的所有img元素并遍历
        var imgs = document.querySelectorAll('.markdown img')
        for (var i = 0; i < imgs.length; i++) {
          var img = imgs[i]
          //本站相册初始为loading图片，真实图片放在data-src
          var ds = img.getAttribute('data-src')
          //创建image对象，用于获取图片宽高
          var imgtemp = new Image()
          //判断是否存在data-src
          if (ds != null && ds.length > 0) {
            imgtemp.src = ds
          } else {
            imgtemp.src = img.src
          }
          //判断是否存在缓存
          if (imgtemp.complete) {
            var imgobj = {
              src: imgtemp.src,
              w: imgtemp.width,
              h: imgtemp.height,
            }
            imgitems[i] = imgobj
            addImgClick(img, i)
          } else {
            console.log('进来了2')
            imgtemp.index = i
            imgtemp.img = img
            imgtemp.onload = function () {
              var imgobj = {
                src: this.src,
                w: this.width,
                h: this.height,
              }
              //不要使用push，因为onload前后顺序会不同
              imgitems[this.index] = imgobj
              //添加点击事件
              addImgClick(this.img, this.index)
            }
          }
        }
      }
      //初始化
      initImg()
    </script>
  </body>
</html>
